{% extends "!page.html" %}

{% block extrahead %}
  {{ super() }}
  {% if meta %}
    {% if meta.get('date') %}
      <meta name="article-date" content="{{ meta.get('date') }}" />
    {% endif %}
    {% if meta.get('author') %}
      <meta name="article-author" content="{{ meta.get('author') }}" />
    {% endif %}
  {% endif %}
  <meta name="github-user" content="{{ github_user }}" />
  <meta name="github-repo" content="{{ github_repo }}" />
  <meta name="github-branch" content="{{ github_version }}" />
  <meta name="doc-path" content="{{ doc_path }}" />
  <meta name="page-name" content="{{ pagename }}" />
{% endblock %}

{% block article %}
  {{ super() }}
  
  {# Giscus Comments Section - only show if comment: True in front matter #}
  {% if meta and meta.get('comment') %}
  <div class="giscus-container" style="margin-top: 3rem; padding-top: 2rem; border-top: 1px solid var(--pst-color-border);">
    <h2 style="margin-bottom: 1rem;">ðŸ’¬ Comments</h2>
    <script src="https://giscus.app/client.js"
            data-repo="way2ml/comments"
            data-repo-id="R_kgDOGRwKvQ"
            data-category="General"
            data-category-id="DIC_kwDOGRwKvc4ChuA7"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="top"
            data-theme="preferred_color_scheme"
            data-lang="en"
            data-loading="lazy"
            crossorigin="anonymous"
            async>
    </script>
  </div>
  {% endif %}
{% endblock %}

{% block breadcrumbs %}{% endblock %}
