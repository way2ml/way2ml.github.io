{% extends "!page.html" %}

{% block extrahead %}
  {{ super() }}
  {% if meta %}
    {% if meta.get('date') %}
      <meta name="article-date" content="{{ meta.get('date') }}" />
    {% endif %}
    {% if meta.get('author') %}
      <meta name="article-author" content="{{ meta.get('author') }}" />
    {% endif %}
  {% endif %}
  <meta name="github-user" content="{{ github_user }}" />
  <meta name="github-repo" content="{{ github_repo }}" />
  <meta name="github-branch" content="{{ github_version }}" />
  <meta name="doc-path" content="{{ doc_path }}" />
  <meta name="page-name" content="{{ pagename }}" />
{% endblock %}

{% block article %}
  {{ super() }}
{% endblock %}

{% block docs_body %}
  {{ super() }}
  
  {# Giscus Comments Section - only show if comment: True in front matter #}
  {% if meta and meta.get('comment') %}
  <article class="bd-article">
    <div class="giscus-container" style="margin-top: 2rem;">
      <script src="https://giscus.app/client.js"
              data-repo="way2ml/comments"
              data-repo-id="R_kgDOGRwKvQ"
              data-category="General"
              data-category-id="DIC_kwDOGRwKvc4ChuA7"
              data-mapping="pathname"
              data-strict="0"
              data-reactions-enabled="1"
              data-emit-metadata="0"
              data-input-position="bottom"
              data-theme="https://way2ml.github.io/_static/giscus-custom.css"
              data-lang="en"
              crossorigin="anonymous"
              async>
      </script>
    </div>
  </article>
  {% endif %}
{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% block footer %}
<footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  <div class="footer-item" style="width: 100%; text-align: center;">
    <p>
      Â© {{ copyright }} | Powered by <a href="https://www.sphinx-doc.org/">Sphinx</a>, <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a>, and <a href="https://giscus.app" target="_blank" rel="noopener">Giscus</a>{% if sourcename %} | <a href="{{ pathto('_sources/' + sourcename, true) }}" rel="nofollow">Page source</a>{% endif %}
    </p>
  </div>
</div>
</footer>
{% endblock %}
